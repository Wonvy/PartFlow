# 📷 PartFlow 图片上传指南

本指南详细说明如何在 PartFlow 中上传和管理零件图片。

---

## 🎯 功能概述

PartFlow 支持为每个零件添加图片，帮助你更直观地识别和管理零件。

### 支持的上传方式

#### 💻 Web 端 & 桌面端

1. **文件选择** - 点击上传区域，从文件系统选择图片
2. **拖拽上传** - 直接将图片拖拽到上传区域
3. **剪贴板粘贴** - 使用键盘快捷键粘贴图片（Ctrl+V / Cmd+V）
4. **📷 相机拍照** - 使用设备摄像头实时拍照 ⭐ 新功能

#### 📱 移动端 & 平板

1. **📷 相机拍照** - 直接使用手机/平板摄像头拍照 ⭐ 推荐
2. **相册选择** - 从设备相册中选择已有图片
3. **前后置切换** - 支持前置/后置摄像头自由切换

---

## 📝 使用方法

### 💻 Web 端 / 桌面端

#### 方式 1: 点击选择文件

1. 打开零件创建/编辑表单
2. 滚动到"零件图片"部分
3. 点击上传区域
4. 在文件选择器中选择图片
5. 图片自动显示预览

### 方式 2: 拖拽上传

1. 打开零件创建/编辑表单
2. 从文件管理器中找到图片
3. 将图片拖拽到上传区域（区域会高亮显示）
4. 松开鼠标，图片自动上传

#### 方式 3: 剪贴板粘贴

这是最快捷的方式，特别适合：
- 从网页复制图片
- 从截图工具粘贴
- 从图片编辑软件复制

**操作步骤**:
1. 复制图片到剪贴板
   - 网页图片：右键 → 复制图片
   - 截图工具：截图后自动复制
   - 编辑软件：Ctrl+C 复制
2. 打开零件表单
3. 按 **Ctrl+V** (Windows) 或 **Cmd+V** (Mac)
4. 图片自动上传并预览

#### 方式 4: 相机拍照 ⭐ 新功能

适合有摄像头的电脑或平板，实时拍摄零件照片：

**操作步骤**:
1. 打开零件创建/编辑表单
2. 点击 **"📷 使用相机拍照"** 按钮
3. 允许浏览器访问摄像头（首次使用）
4. 将零件放在虚线框内
5. 调整位置和角度
6. 点击 **"📸 拍照"** 按钮
7. 图片自动添加到表单

**功能特性**:
- 🔄 前置/后置摄像头切换
- 📐 参考线辅助对齐
- 🎯 实时预览
- ⚡ 一键拍照

### 📱 移动端 / 平板

#### 方式 1: 相机拍照 ⭐ 推荐

最常用的方式，直接使用设备摄像头拍摄：

**操作步骤**:
1. 打开零件创建/编辑表单
2. 点击 **"📷 拍照"** 按钮
3. 允许应用访问相机（首次使用）
4. 将零件放在虚线框内
5. 保持设备稳定
6. 点击圆形 **"📸"** 按钮拍照
7. 图片自动添加到表单

**功能特性**:
- 📱 全屏拍照界面
- 🔄 前后摄像头切换（点击左下角按钮）
- 📐 参考线辅助构图
- 💡 拍照提示
- ✨ 高清画质（最高 1920×1080）

#### 方式 2: 相册选择

从设备相册选择已有图片：

**操作步骤**:
1. 打开零件创建/编辑表单
2. 点击 **"📁 从相册选择"** 按钮
3. 允许应用访问相册（首次使用）
4. 浏览并选择图片
5. 可裁剪和调整图片（可选）
6. 确认后图片自动添加

---

## 📋 图片要求

### 文件格式

- ✅ JPG / JPEG
- ✅ PNG
- ✅ GIF
- ❌ BMP（不推荐，文件太大）
- ❌ WebP（浏览器支持有限）

### 文件大小

- **最大**: 5MB
- **推荐**: 500KB - 2MB
- **提示**: 过大的图片会影响加载速度

### 图片尺寸

- **推荐**: 800×600 像素
- **最小**: 200×200 像素
- **最大**: 4000×3000 像素
- **纵横比**: 不限（系统会自动适配）

---

## 🎨 最佳实践

### 1. 图片拍摄建议

**背景**:
- 使用纯色背景（白色、灰色）
- 避免杂乱的背景
- 确保零件清晰可见
- 📱 移动端拍照：可使用白纸/桌面作为背景

**光线**:
- 充足的自然光或柔和的灯光
- 避免阴影和反光
- 正面光源最佳
- 📱 手机拍照：避免逆光，打开闪光灯（必要时）

**角度**:
- 正视图或斜45度
- 包含零件的关键特征
- 多个角度可分别上传
- 📱 使用参考线对齐零件

**稳定性**:
- 💻 Web端：确保摄像头固定
- 📱 移动端：双手持握设备，保持稳定
- 可使用支架或桌面支撑

### 2. 图片编辑建议

**裁剪**:
- 去除多余空白
- 突出零件主体
- 保持适当边距

**压缩**:
- 使用工具压缩图片
- 在线工具：TinyPNG、Squoosh
- 建议压缩后 < 500KB

**命名**:
- 虽然上传后自动处理
- 但建议本地保留原图备份

---

## 🔧 高级技巧

### 技巧 1: 快速截图上传

**Windows**:
```
1. 按 Win+Shift+S 打开截图工具
2. 选择区域截图
3. 打开 PartFlow 表单
4. 按 Ctrl+V 粘贴
```

**Mac**:
```
1. 按 Cmd+Shift+4 截图
2. 截图自动复制到剪贴板
3. 打开 PartFlow 表单
4. 按 Cmd+V 粘贴
```

### 技巧 2: 批量处理图片

如果有多个零件需要拍照：

1. 用手机或相机统一拍摄所有零件
2. 传输到电脑
3. 使用图片编辑软件批量处理：
   - 裁剪到统一尺寸
   - 调整亮度/对比度
   - 批量压缩
4. 在 PartFlow 中逐个上传

### 技巧 3: 从网页复制图片

如果在网上找到参考图片：

1. 右键点击图片
2. 选择"复制图片"
3. 打开 PartFlow
4. Ctrl+V 粘贴

⚠️ 注意：确保图片版权允许使用！

---

## 🖼️ 图片管理

### 查看图片

- 零件列表中会显示缩略图（150px 高度）
- 图片按比例缩放，不会变形
- 没有图片的零件只显示文字信息

### 更换图片

1. 点击零件的"编辑"按钮
2. 找到图片预览
3. 点击"更换图片"
4. 选择新图片上传

### 删除图片

1. 点击零件的"编辑"按钮
2. 找到图片预览
3. 点击"删除图片"
4. 保存表单

---

## 📊 存储说明

### 当前存储方式

- **格式**: Base64 编码
- **位置**: 内存存储（重启后丢失）
- **优点**: 无需额外服务器
- **缺点**: 重启后需重新上传

### 未来改进

v0.2.0 版本计划：
- [ ] 持久化存储
- [ ] 图片压缩优化
- [ ] 多图片支持
- [ ] 图片库管理

---

## ❓ 常见问题

### Q: 为什么粘贴不生效？

A: 确保：
1. 图片已复制到剪贴板
2. 焦点在浏览器窗口内
3. 表单已打开

### Q: 图片太大无法上传？

A: 解决方案：
1. 使用在线压缩工具（TinyPNG）
2. 使用图片编辑软件（Photoshop、GIMP）
3. 降低图片分辨率

### Q: 支持动图吗？

A: 支持 GIF 格式，但：
- 动图文件通常较大
- 建议使用静态图片
- 确保文件 < 5MB

### Q: 图片会压缩吗？

A: 当前版本不会自动压缩，建议：
- 上传前手动压缩
- 使用适当的分辨率
- 下个版本会添加自动压缩

### Q: 可以上传多张图片吗？

A: 当前版本每个零件只支持一张图片
- 可上传不同角度的拼图
- 未来版本会支持多图片

---

## 🎯 使用场景

### 场景 1: 电子元件

拍摄芯片、电阻、电容等小零件：
- 使用微距模式
- 白色背景
- 包含型号标识

### 场景 2: 螺丝螺母

拍摄紧固件：
- 侧视图显示长度
- 俯视图显示螺纹
- 标尺对比尺寸

### 场景 3: 工具配件

拍摄工具、夹具等：
- 整体展示
- 关键部位特写
- 使用状态

---

## 💡 提示与技巧

### 📱 移动端直接拍照 ⭐ 最快

1. 打开 PartFlow 移动应用
2. 点击"拍照"按钮
3. 对准零件拍摄
4. 直接保存到零件信息

### 🖥️ 电脑使用摄像头

**方式 1: 使用 PartFlow 内置相机**
1. 点击"使用相机拍照"按钮
2. 允许浏览器访问摄像头
3. 对准零件拍摄
4. 一键保存

**方式 2: 使用系统相机**
1. 打开系统相机应用拍照
2. 截图或复制图片
3. Ctrl+V 粘贴到 PartFlow

### 💻 平板设备

1. 使用 Web 版或移动应用
2. 支持前后摄像头
3. 大屏幕更方便查看

### 🌐 网络图片

1. 右键复制网络图片
2. Ctrl+V 粘贴到 PartFlow
3. 注意版权问题

---

## 🔒 隐私与安全

- ✅ 图片只存储在本地
- ✅ 不会上传到外部服务器
- ✅ 重启服务后自动清除
- ✅ 相机权限仅用于拍照，不会录制视频
- ✅ 相册权限仅用于选择图片
- ⚠️ 未来版本会支持持久化存储

---

## ❓ 相机功能常见问题

### Q: 为什么无法使用相机？

A: 请检查：
1. **权限设置**
   - Web端：浏览器需要允许相机访问
   - 移动端：应用需要相机权限
2. **设备支持**
   - 确保设备有可用的摄像头
   - 检查摄像头是否被其他应用占用
3. **浏览器兼容性**
   - Chrome/Edge：完美支持
   - Firefox：支持良好
   - Safari：iOS 需要 11+ 版本

### Q: 如何切换前后摄像头？

A: 
- **Web端**: 点击"🔄 前置/后置"按钮
- **移动端**: 点击屏幕左下角的"🔄"按钮
- **自动选择**: 默认使用后置摄像头（拍摄零件更清晰）

### Q: 拍照画质如何？

A: 
- **Web端**: 取决于摄像头硬件，最高 1920×1080
- **移动端**: 高清画质，最高 1920×1080
- **优化**: 系统自动压缩到适合大小（Quality: 80-90%）

### Q: 拍照失败怎么办？

A: 常见解决方案：
1. 刷新页面重试
2. 检查相机是否被其他应用占用
3. 重启浏览器/应用
4. 检查设备存储空间
5. 改用文件上传方式

---

**快速拍照，轻松管理！** 📷✨

